const translations = {
  AR: {
    nav_vaccine: "تطعيم مجاني",
    nav_home: "الصفحة الرئيسية",
    nav_diseases: "أمراض يجب معرفتها",
    nav_information: "نصائح صحية",
    nav_promotion: "المستشفيات والعيادات",
    nav_review: "المراجعات",
    disease_title: "أمراض يجب معرفتها",
    article_title: "نصائح صحية",
    warning_title: "الاحتياطات عند استخدام الأدوية",
    clinic_title: "عيادة",
    hospital_title: "مستشفى",
    foot_1: "سياسة حماية البيانات الشخصية",
    foot_2: "سياسة ملفات تعريف الارتباط",
    foot_3: "الشروط والأحكام",
    loadMoreBtn: "عرض المزيد",
    categoryBtn: "يرجى اختيار فئة",
    "Skin and hair": "البشرة والشعر",
    Eyes: "العيون",
    Brain: "الدماغ",
    Throat: "الحلق",
    Obstetrics: "التوليد",
    Intestine: "الأمعاء",
    Joints: "المفاصل",
    Mouth: "الفم",
    All: "الكل",
    "Read more": "اقرأ المزيد",
    "Age 50+": "العمر 50+",
    "Young age": "العمر الصغير",
    Popular: "الأكثر شيوعاً",
    breadcrub_home: "الصفحة الرئيسية",
    breadcrub_disease: "أمراض يجب معرفتها",
    breadcrub_article: "نصائح صحية",
  },
  TH: {
    nav_vaccine: "ฉีดวัคซีนฟรี",
    nav_home: "หน้าหลัก",
    nav_diseases: "โรคน่ารู้",
    nav_information: "สาระสุขภาพ",
    nav_promotion: "โรงพยาบาลและคลินิก",
    nav_review: "รีวิวสินค้า",
    disease_title: "โรคน่ารู้",
    article_title: "สาระสุขภาพ",
    warning_title: "ข้อควรระวังการใช้ยา",
    clinic_title: "คลินิก",
    hospital_title: "โรงพยาบาล",
    foot_1: "นโยบายการคุ้มครองข้อมูลส่วนบุคคล",
    foot_2: "นโยบายคุกกี้",
    foot_3: "ข้อตกลงการใช้งาน",
    loadMoreBtn: "ดูเพิ่มเติม",
    categoryBtn: "โปรดเลือกหมวดหมู่",
    "Skin and hair": "ผิวหนังและเส้นผม",
    Eyes: "ตา",
    Brain: "สมอง",
    Throat: "ลำคอ",
    Obstetrics: "สูติ",
    Intestine: "ลำไส้",
    Joints: "ข้อ",
    Mouth: "ช่องปาก",
    All: "ทั้งหมด",
    "Read more": "อ่านเพิ่มเติม",
    "Age 50+": "อายุ 50+",
    "Young age": "อายุน้อย",
    Popular: "ยอดนิยม",
    breadcrub_home: "หน้าหลัก",
    breadcrub_disease: "โรคน่ารู้",
    breadcrub_article: "สาระสุขภาพ",
  },
  EN: {
    nav_vaccine: "Free Vaccine",
    nav_home: "Home",
    nav_diseases: "Interesting Diseases",
    nav_information: "Health Tips",
    nav_promotion: "Hospital and Clinic",
    nav_review: "Reviews",
    disease_title: "Interesting Diseases",
    article_title: "Health Tips",
    warning_title: "Precautions for using medicine",
    clinic_title: "Clinic",
    hospital_title: "Hospital",
    foot_1: "Personal data protextion policy",
    foot_2: "Cookies",
    foot_3: "Team and Conditions",
    loadMoreBtn: "See more",
    categoryBtn: "Please select a category",
    "Skin and hair": "Skin and hair",
    Eyes: "Eyes",
    Brain: "Brain",
    Throat: "Throat",
    Obstetrics: "Obstetrics",
    Intestine: "Intestine",
    Joints: "Joints",
    Mouth: "Mouth",
    All: "All",
    "Read more": "Read more",
    "Age 50+": "Age 50+",
    "Young age": "Young age",
    Popular: "Popular",
    breadcrub_home: "Home",
    breadcrub_disease: "Interesting Diseases",
    breadcrub_article: "Health Tips",
  },
  CN: {
    nav_vaccine: "免费接种疫苗",
    nav_home: "主页",
    nav_diseases: "值得了解的疾病",
    nav_information: "健康资讯",
    nav_promotion: "医院和诊所",
    nav_review: "评论",
    disease_title: "值得了解的疾病",
    article_title: "健康资讯",
    warning_title: "用药注意事项",
    clinic_title: "诊所",
    hospital_title: "医院",
    foot_1: "个⼈信息保护政策",
    foot_2: "曲奇饼政策",
    foot_3: "使用条款",
    loadMoreBtn: "查看更多",
    categoryBtn: "请选择一个类别。",
    "Skin and hair": "皮肤和头发",
    Eyes: "眼睛",
    Brain: "⼤脑",
    Throat: "喉咙",
    Obstetrics: "分娩",
    Intestine: "肠道",
    Joints: "关节",
    Mouth: "⼝腔",
    All: "全部",
    "Read more": "阅读更多",
    "Age 50+": "年龄50+",
    "Young age": "年龄年轻",
    Popular: "流行",
    breadcrub_home: "主页",
    breadcrub_disease: "值得了解的疾病",
    breadcrub_article: "健康资讯",
  },
  JAP: {
    nav_vaccine: "無料の予防接種",
    nav_home: "メインページ",
    nav_diseases: "知っておくべき病気。",
    nav_information: "健康情報",
    nav_promotion: "病院とクリニック",
    nav_review: "商品レビュー",
    disease_title: "知っておくべき病気",
    warning_title: "薬を使用する際の注意点",
    clinic_title: "診療所",
    hospital_title: "病院",
    foot_1: "個人保護方針",
    foot_2: "クッキーポリシ",
    foot_3: "利用規約",
    loadMoreBtn: "続きを見る",
    categoryBtn: "カテゴリを選んでください",
    "Skin and hair": "肌と髪 ",
    Eyes: "目",
    Brain: "脳",
    Throat: "喉",
    Obstetrics: "産科医",
    Intestine: "腸",
    Joints: "関節",
    Mouth: "口腔",
    All: "全て",
    "Read more": "続きを読む",
    "Age 50+": "年齢50+",
    "Young age": "年齢が若い",
    Popular: "人気",
    article_title: "健康情報",
    breadcrub_home: "主页",
    breadcrub_disease: "知っておくべき病気。",
    breadcrub_article: "健康情報",
  },
};

const languageData = {
  TH: { name: "Thai", flag: "./uploads/lang/thailand.png" },
  EN: { name: "English", flag: "./uploads/lang/english.png" },
  CN: { name: "Chinese", flag: "./uploads/lang/china.png" },
  JAP: { name: "Japanese", flag: "./uploads/lang/japan.png" },
  AR: { name: "Arabic", flag: "./uploads/lang/arab.png" },
};

function changeLanguage(lang) {
  if (translations[lang]) {
    for (const key in translations[lang]) {
      if (translations[lang].hasOwnProperty(key)) {
        const element = document.getElementById(key);
        if (element) {
          element.textContent = translations[lang][key];
        }
      }
    }

    updateSelectedLanguageElement(lang);
  } else {
    console.error("Translation not available for language:", lang);
  }
}

function updateSelectedLanguageElement(lang) {
  const selectedLanguage = languageData[lang];
  const selectedLanguageElement = document.getElementById("selectedLanguage");
  if (selectedLanguageElement) {
    selectedLanguageElement.innerHTML = `<img src="${selectedLanguage.flag}" alt="Language" class="flag">${lang}`;
  }
  console.log("Language changed to:", selectedLanguage.name);

  saveSelectedLanguage(lang);
}

function saveSelectedLanguage(lang) {
  if (translations[lang]) {
    localStorage.setItem("selectedLanguage", lang);
  } else {
    console.error("Invalid language:", lang);
  }
}
function clearSelectedLanguage() {
  localStorage.removeItem("selectedLanguage");
}
function loadSelectedLanguage() {
  const savedLanguage = localStorage.getItem("selectedLanguage");
  const defaultLanguage = "th";
  if (savedLanguage && translations[savedLanguage]) {
    changeLanguage(savedLanguage);
  } else {
    changeLanguage(defaultLanguage);
    saveSelectedLanguage(defaultLanguage);
  }
}
loadSelectedLanguage();

// window.addEventListener('beforeunload', clearSelectedLanguage);
